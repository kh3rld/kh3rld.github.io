<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kherld Hussein | Projects</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <style>
      :root {
        --bg-color: #0a0a0a;
        --text-color: #e0e0e0;
        --accent-color: #00ff99;
        --secondary-accent: #ff00ff;
        --gradient-1: linear-gradient(45deg, #00ff9980, #ff00ff80);
        --card-bg: rgba(255, 255, 255, 0.05);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: var(--bg-color);
        color: var(--text-color);
        line-height: 1.6;
        overflow-x: hidden;
        background-image: radial-gradient(
            circle at 10% 20%,
            rgba(0, 255, 153, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(255, 0, 255, 0.1) 0%,
            transparent 20%
          );
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 40px 20px;
      }

      header {
        text-align: center;
        margin-bottom: 50px;
        position: relative;
      }

      h1 {
        font-size: 4rem;
        background: var(--gradient-1);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 3px;
        font-weight: 800;
        position: relative;
      }

      h1::after {
        content: "";
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 3px;
        background: var(--gradient-1);
      }

      .projects-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 30px;
        perspective: 1000px;
      }

      .project-card {
        background: var(--card-bg);
        border-radius: 20px;
        padding: 25px;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .project-card:hover {
        transform: translateY(-10px) rotateX(5deg);
        box-shadow: 0 20px 40px rgba(0, 255, 153, 0.2);
        border-color: var(--accent-color);
      }

      .project-title {
        font-size: 1.8rem;
        background: var(--gradient-1);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 15px;
        font-weight: 700;
      }

      .project-description {
        font-size: 1.1rem;
        margin-bottom: 20px;
        color: rgba(255, 255, 255, 0.8);
        line-height: 1.7;
      }

      .project-tech {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 20px;
      }

      .tech-tag {
        background: rgba(255, 255, 255, 0.08);
        color: var(--accent-color);
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 500;
        transition: all 0.3s ease;
        border: 1px solid rgba(0, 255, 153, 0.3);
      }

      .tech-tag:hover {
        background: var(--accent-color);
        color: var(--bg-color);
        transform: translateY(-2px);
      }

      .project-stats {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.6);
      }

      .stat {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .project-links {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
      }

      .project-link {
        color: var(--accent-color);
        text-decoration: none;
        font-weight: 600;
        padding: 8px 16px;
        border-radius: 15px;
        border: 2px solid var(--accent-color);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .project-link:hover {
        background: var(--accent-color);
        color: var(--bg-color);
        transform: translateY(-2px);
      }

      .filters {
        display: flex;
        justify-content: center;
        margin-bottom: 40px;
        gap: 15px;
        flex-wrap: wrap;
      }

      .filter-btn {
        background-color: transparent;
        border: 2px solid var(--accent-color);
        color: var(--accent-color);
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        font-size: 1rem;
        position: relative;
        overflow: hidden;
      }

      .filter-btn::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: var(--accent-color);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: width 0.5s ease, height 0.5s ease;
        z-index: -1;
      }

      .filter-btn:hover::before {
        width: 200%;
        height: 200%;
      }

      .filter-btn:hover,
      .filter-btn.active {
        color: var(--bg-color);
      }

      .loading {
        text-align: center;
        padding: 3rem;
        font-size: 1.5rem;
        color: var(--accent-color);
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
      }

      .loading::after {
        content: "";
        width: 20px;
        height: 20px;
        border: 3px solid var(--accent-color);
        border-top-color: transparent;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .no-results {
        text-align: center;
        padding: 2rem;
        color: var(--secondary-accent);
        font-size: 1.2rem;
      }

      @media (max-width: 768px) {
        .container {
          padding: 20px;
        }

        h1 {
          font-size: 3rem;
        }

        .projects-grid {
          grid-template-columns: 1fr;
        }

        .project-card {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>My Projects</h1>
      </header>

      <div class="filters">
        <button class="filter-btn active" data-filter="all">
          All Projects
        </button>
        <button class="filter-btn" data-filter="web">Web Development</button>
        <button class="filter-btn" data-filter="mobile">Mobile Apps</button>
        <button class="filter-btn" data-filter="ai">AI & ML</button>
        <button class="filter-btn" data-filter="blockchain">Blockchain</button>
      </div>

      <div class="projects-grid"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init({
        duration: 1000,
        once: true,
      });

      const GITHUB_USERNAME = "kh3rld";
      const GITHUB_API_URL = `https://api.github.com/users/${GITHUB_USERNAME}/repos`;

      async function fetchGithubProjects() {
        try {
          const response = await fetch(GITHUB_API_URL);
          if (!response.ok) throw new Error("GitHub API request failed");

          const repos = await response.json();

          // Fetch additional data for each repo (languages, topics)
          const detailedRepos = await Promise.all(
            repos.map(async (repo) => {
              const [languagesRes, topicsRes] = await Promise.all([
                fetch(repo.languages_url),
                fetch(
                  `https://api.github.com/repos/${GITHUB_USERNAME}/${repo.name}/topics`,
                  {
                    headers: {
                      Accept: "application/vnd.github.mercy-preview+json",
                    },
                  }
                ),
              ]);

              const languages = await languagesRes.json();
              const { names: topics } = await topicsRes.json();

              return {
                ...repo,
                detailedLanguages: languages,
                topics: topics || [],
              };
            })
          );

          return detailedRepos.map((repo) => ({
            name: repo.name,
            description: repo.description || "No description available",
            html_url: repo.html_url,
            homepage: repo.homepage,
            topics: repo.topics,
            languages: Object.keys(repo.detailedLanguages),
            stargazers_count: repo.stargazers_count,
            forks_count: repo.forks_count,
            created_at: new Date(repo.created_at).toLocaleDateString(),
          }));
        } catch (error) {
          console.error("Error fetching GitHub projects:", error);
          return [];
        }
      }

      function createProjectCard(project) {
        const categoryMap = {
          web: [
            "web",
            "frontend",
            "backend",
            "fullstack",
            "javascript",
            "typescript",
            "react",
            "vue",
            "angular",
          ],
          mobile: ["mobile", "android", "ios", "flutter", "react-native"],
          ai: [
            "ai",
            "machine-learning",
            "deep-learning",
            "tensorflow",
            "pytorch",
          ],
          blockchain: ["blockchain", "web3", "crypto", "ethereum", "solidity"],
        };

        let categories = new Set();
        project.topics.forEach((topic) => {
          Object.entries(categoryMap).forEach(([category, keywords]) => {
            if (
              keywords.some((keyword) => topic.toLowerCase().includes(keyword))
            ) {
              categories.add(category);
            }
          });
        });

        const card = document.createElement("div");
        card.className = "project-card";
        card.setAttribute("data-category", Array.from(categories).join(" "));
        card.setAttribute("data-aos", "fade-up");

        card.innerHTML = `
          <h2 class="project-title">${project.name}</h2>
          <p class="project-description">${project.description}</p>
          <div class="project-tech">
            ${project.languages
              .map((lang) => `<span class="tech-tag">${lang}</span>`)
              .join("")}
            ${project.topics
              .map((topic) => `<span class="tech-tag">${topic}</span>`)
              .join("")}
          </div>
          <div class="project-stats">
            <div class="stat">
              <i class="fas fa-star"></i>
              ${project.stargazers_count} stars
            </div>
            <div class="stat">
              <i class="fas fa-code-branch"></i>
              ${project.forks_count} forks
            </div>
            <div class="stat">
              <i class="far fa-calendar-alt"></i>
              ${project.created_at}
            </div>
          </div>
          <div class="project-links">
            <a href="${project.html_url}" class="project-link" target="_blank">
              <i class="fab fa-github"></i> View Source
            </a>
            ${
              project.homepage
                ? `
              <a href="${project.homepage}" class="project-link" target="_blank">
                <i class="fas fa-external-link-alt"></i> Live Demo
              </a>
            `
                : ""
            }
          </div>
        `;

        return card;
      }

      async function initializeProjects() {
        const projectsGrid = document.querySelector(".projects-grid");
        const filterButtons = document.querySelectorAll(".filter-btn");

        projectsGrid.innerHTML = '<div class="loading">Loading projects</div>';

        const projects = await fetchGithubProjects();

        if (projects.length === 0) {
          projectsGrid.innerHTML =
            '<div class="no-results">No projects found</div>';
          return;
        }

        projectsGrid.innerHTML = "";
        projects.forEach((project) => {
          const card = createProjectCard(project);
          projectsGrid.appendChild(card);
        });

        filterButtons.forEach((button) => {
          button.addEventListener("click", () => {
            const filter = button.getAttribute("data-filter");

            filterButtons.forEach((btn) => btn.classList.remove("active"));
            button.classList.add("active");

            let hasVisibleProjects = false;

            document.querySelectorAll(".project-card").forEach((card) => {
              const categories = card.getAttribute("data-category").split(" ");
              const shouldShow =
                filter === "all" || categories.includes(filter);

              if (shouldShow) hasVisibleProjects = true;

              gsap.to(card, {
                duration: 0.5,
                scale: shouldShow ? 1 : 0.8,
                opacity: shouldShow ? 1 : 0,
                display: shouldShow ? "block" : "none",
                ease: "power2.out",
              });
            });

            if (!hasVisibleProjects) {
              const noResults = document.createElement("div");
              noResults.className = "no-results";
              noResults.textContent = `No ${filter} projects found`;
              projectsGrid.appendChild(noResults);
            }
          });
        });
      }

      document.addEventListener("DOMContentLoaded", initializeProjects);
    </script>
  </body>
</html>
